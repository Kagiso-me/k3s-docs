# ==========================
# kube-prometheus-stack values
# ==========================

# --------------------------
# Grafana configuration
# --------------------------
grafana:
  enabled: true
  adminUser: admin
  adminPassword: admin       # CHANGE after first login
  ingress:
    enabled: false          # disable all ingress/TLS
  persistence:
    enabled: true
    storageClassName: nfs-core-appdata
    accessModes:
      - ReadWriteMany
    size: 5Gi
  sidecar:
    dashboards:
      enabled: false        # disable dashboards sidecar since no custom dashboards yet

# --------------------------
# Prometheus configuration
# --------------------------
prometheus:
  enabled: true
  prometheusSpec:
    retention: 90d
    storageSpec:
      volumeClaimTemplate:
        spec:
          storageClassName: nfs-core-appdata
          accessModes:
            - ReadWriteMany
          resources:
            requests:
              storage: 30Gi

# --------------------------
# Alertmanager configuration
# --------------------------
alertmanager:
  enabled: true
  alertmanagerSpec:
    storage:
      volumeClaimTemplate:
        spec:
          storageClassName: nfs-core-appdata
          accessModes:
            - ReadWriteMany
          resources:
            requests:
              storage: 5Gi

# --------------------------
# k3s control-plane optimizations
# --------------------------
kubeControllerManager:
  enabled: false

kubeScheduler:
  enabled: false

kubeEtcd:
  enabled: false
